{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\n// Route definitions\nexport const ROUTES = {\n  HOME: '/',\n  PRIVACY: '/privacy',\n  TERMS: '/terms',\n  COOKIES: '/cookies',\n  REFUND: '/refund',\n  SECURITY: '/security',\n  STARTER_FORM: '/starter-form',\n  GROWTH_FORM: '/growth-form',\n  SCALE_FORM: '/scale-form',\n  IMPRINT: '/imprint',\n  BLOG: '/blog',\n  BLOG_POST: '/blog/:slug',\n  CASE_STUDIES: '/case-studies',\n  CASE_STUDY_DETAIL: '/case-studies/:slug'\n};\n\n// Language-aware routing utilities\nexport const useLanguageRouting = () => {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n  useTranslation(); // Initialize i18n context\n\n  // Get current language from URL\n  const getCurrentLanguage = () => {\n    return location.pathname.startsWith('/de') ? 'de' : 'en';\n  };\n\n  // Check if current route is German\n  const isGerman = () => {\n    return getCurrentLanguage() === 'de';\n  };\n\n  // Get localized path\n  const getLocalizedPath = (path, language) => {\n    const targetLanguage = language || getCurrentLanguage();\n    const cleanPath = path.startsWith('/') ? path.substring(1) : path;\n    if (targetLanguage === 'de') {\n      return `/de/${cleanPath}`;\n    }\n    return `/${cleanPath}`;\n  };\n\n  // Navigate to localized path\n  const navigateToLocalized = (path, language) => {\n    const localizedPath = getLocalizedPath(path, language);\n    navigate(localizedPath);\n  };\n\n  // Get path without language prefix\n  const getPathWithoutLanguage = () => {\n    const pathname = location.pathname;\n    if (pathname.startsWith('/de')) {\n      const withoutPrefix = pathname.substring(3);\n      return withoutPrefix === '' ? '/' : withoutPrefix;\n    }\n    return pathname;\n  };\n\n  // Switch language while keeping current path\n  const switchLanguage = newLanguage => {\n    // Save language preference in localStorage and cookie\n    localStorage.setItem('userLanguagePreference', newLanguage);\n    document.cookie = `language=${newLanguage}; path=/; max-age=31536000`; // 1 year\n\n    const currentPath = getPathWithoutLanguage();\n\n    // If switching from non-home pages, redirect to home page to avoid broken navigation\n    // This prevents issues when switching language from blog/case-studies pages\n    const isHomePage = currentPath === '/' || currentPath === '';\n    if (isHomePage) {\n      // If on home page, keep the current path\n      const newPath = getLocalizedPath(currentPath, newLanguage);\n      navigate(newPath);\n    } else {\n      // If on other pages, redirect to home page in the new language\n      // This ensures hash navigation works properly\n      const homePath = newLanguage === 'de' ? '/de' : '/';\n      window.location.href = homePath;\n    }\n  };\n\n  // Get localized route for a specific route key\n  const getLocalizedRoute = (routeKey, language) => {\n    const route = ROUTES[routeKey];\n    return getLocalizedPath(route, language);\n  };\n  return {\n    getCurrentLanguage,\n    isGerman,\n    getLocalizedPath,\n    navigateToLocalized,\n    getPathWithoutLanguage,\n    switchLanguage,\n    getLocalizedRoute,\n    currentLanguage: getCurrentLanguage()\n  };\n};\n\n// Hook for language-aware navigation\n_s(useLanguageRouting, \"FUOcKd5+9X/g4+eRoVJxs0NEXGk=\", false, function () {\n  return [useLocation, useNavigate, useTranslation];\n});\nexport const useLocalizedNavigation = () => {\n  _s2();\n  const {\n    navigateToLocalized,\n    getLocalizedRoute,\n    switchLanguage\n  } = useLanguageRouting();\n  return {\n    navigateTo: navigateToLocalized,\n    getRoute: getLocalizedRoute,\n    switchLanguage\n  };\n};\n\n// Component wrapper for language-aware routing\n_s2(useLocalizedNavigation, \"WtjShb3QHoDE+smfu1QsKOFQc+k=\", false, function () {\n  return [useLanguageRouting];\n});\nexport const withLanguageRouting = Component => {\n  var _s3 = $RefreshSig$();\n  const WrappedComponent = props => {\n    _s3();\n    const {\n      i18n\n    } = useTranslation();\n    const {\n      getCurrentLanguage\n    } = useLanguageRouting();\n\n    // Set language based on URL\n    React.useEffect(() => {\n      const currentLanguage = getCurrentLanguage();\n      if (i18n.language !== currentLanguage) {\n        i18n.changeLanguage(currentLanguage);\n      }\n    }, [getCurrentLanguage, i18n]);\n    return /*#__PURE__*/React.createElement(Component, props);\n  };\n  _s3(WrappedComponent, \"aQU32YThvIss9DUOPEpNFYNiDS0=\", false, function () {\n    return [useTranslation, useLanguageRouting];\n  });\n  return WrappedComponent;\n};","map":{"version":3,"names":["React","useLocation","useNavigate","useTranslation","ROUTES","HOME","PRIVACY","TERMS","COOKIES","REFUND","SECURITY","STARTER_FORM","GROWTH_FORM","SCALE_FORM","IMPRINT","BLOG","BLOG_POST","CASE_STUDIES","CASE_STUDY_DETAIL","useLanguageRouting","_s","location","navigate","getCurrentLanguage","pathname","startsWith","isGerman","getLocalizedPath","path","language","targetLanguage","cleanPath","substring","navigateToLocalized","localizedPath","getPathWithoutLanguage","withoutPrefix","switchLanguage","newLanguage","localStorage","setItem","document","cookie","currentPath","isHomePage","newPath","homePath","window","href","getLocalizedRoute","routeKey","route","currentLanguage","useLocalizedNavigation","_s2","navigateTo","getRoute","withLanguageRouting","Component","_s3","$RefreshSig$","WrappedComponent","props","i18n","useEffect","changeLanguage","createElement"],"sources":["/Users/biltontaheri/Documents/Development/Fynteq/src/utils/routing.ts"],"sourcesContent":["import React from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\n// Route definitions\nexport const ROUTES = {\n  HOME: '/',\n  PRIVACY: '/privacy',\n  TERMS: '/terms',\n  COOKIES: '/cookies',\n  REFUND: '/refund',\n  SECURITY: '/security',\n  STARTER_FORM: '/starter-form',\n  GROWTH_FORM: '/growth-form',\n  SCALE_FORM: '/scale-form',\n  IMPRINT: '/imprint',\n  BLOG: '/blog',\n  BLOG_POST: '/blog/:slug',\n  CASE_STUDIES: '/case-studies',\n  CASE_STUDY_DETAIL: '/case-studies/:slug',\n} as const;\n\n// Language-aware routing utilities\nexport const useLanguageRouting = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  useTranslation(); // Initialize i18n context\n\n  // Get current language from URL\n  const getCurrentLanguage = (): string => {\n    return location.pathname.startsWith('/de') ? 'de' : 'en';\n  };\n\n  // Check if current route is German\n  const isGerman = (): boolean => {\n    return getCurrentLanguage() === 'de';\n  };\n\n  // Get localized path\n  const getLocalizedPath = (path: string, language?: string): string => {\n    const targetLanguage = language || getCurrentLanguage();\n    const cleanPath = path.startsWith('/') ? path.substring(1) : path;\n    \n    if (targetLanguage === 'de') {\n      return `/de/${cleanPath}`;\n    }\n    \n    return `/${cleanPath}`;\n  };\n\n  // Navigate to localized path\n  const navigateToLocalized = (path: string, language?: string) => {\n    const localizedPath = getLocalizedPath(path, language);\n    navigate(localizedPath);\n  };\n\n  // Get path without language prefix\n  const getPathWithoutLanguage = (): string => {\n    const pathname = location.pathname;\n    if (pathname.startsWith('/de')) {\n      const withoutPrefix = pathname.substring(3);\n      return withoutPrefix === '' ? '/' : withoutPrefix;\n    }\n    return pathname;\n  };\n\n  // Switch language while keeping current path\n  const switchLanguage = (newLanguage: string) => {\n    // Save language preference in localStorage and cookie\n    localStorage.setItem('userLanguagePreference', newLanguage);\n    document.cookie = `language=${newLanguage}; path=/; max-age=31536000`; // 1 year\n    \n    const currentPath = getPathWithoutLanguage();\n    \n    // If switching from non-home pages, redirect to home page to avoid broken navigation\n    // This prevents issues when switching language from blog/case-studies pages\n    const isHomePage = currentPath === '/' || currentPath === '';\n    \n    if (isHomePage) {\n      // If on home page, keep the current path\n      const newPath = getLocalizedPath(currentPath, newLanguage);\n      navigate(newPath);\n    } else {\n      // If on other pages, redirect to home page in the new language\n      // This ensures hash navigation works properly\n      const homePath = newLanguage === 'de' ? '/de' : '/';\n      window.location.href = homePath;\n    }\n  };\n\n  // Get localized route for a specific route key\n  const getLocalizedRoute = (routeKey: keyof typeof ROUTES, language?: string): string => {\n    const route = ROUTES[routeKey];\n    return getLocalizedPath(route, language);\n  };\n\n  return {\n    getCurrentLanguage,\n    isGerman,\n    getLocalizedPath,\n    navigateToLocalized,\n    getPathWithoutLanguage,\n    switchLanguage,\n    getLocalizedRoute,\n    currentLanguage: getCurrentLanguage(),\n  };\n};\n\n// Hook for language-aware navigation\nexport const useLocalizedNavigation = () => {\n  const { navigateToLocalized, getLocalizedRoute, switchLanguage } = useLanguageRouting();\n\n  return {\n    navigateTo: navigateToLocalized,\n    getRoute: getLocalizedRoute,\n    switchLanguage,\n  };\n};\n\n// Component wrapper for language-aware routing\nexport const withLanguageRouting = <P extends object>(\n  Component: React.ComponentType<P>\n): React.ComponentType<P> => {\n  const WrappedComponent: React.FC<P> = (props: P) => {\n    const { i18n } = useTranslation();\n    const { getCurrentLanguage } = useLanguageRouting();\n\n    // Set language based on URL\n    React.useEffect(() => {\n      const currentLanguage = getCurrentLanguage();\n      if (i18n.language !== currentLanguage) {\n        i18n.changeLanguage(currentLanguage);\n      }\n    }, [getCurrentLanguage, i18n]);\n\n    return React.createElement(Component, props);\n  };\n  \n  return WrappedComponent;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}