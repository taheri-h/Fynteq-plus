{"ast":null,"code":"import React from'react';import{useLocation,useNavigate}from'react-router-dom';import{useTranslation}from'react-i18next';// Route definitions\nexport const ROUTES={HOME:'/',PRIVACY:'/privacy',TERMS:'/terms',COOKIES:'/cookies',REFUND:'/refund',SECURITY:'/security',STARTER_FORM:'/starter-form',GROWTH_FORM:'/growth-form',SCALE_FORM:'/scale-form',IMPRINT:'/imprint',BLOG:'/blog',BLOG_POST:'/blog/:slug',CASE_STUDIES:'/case-studies',CASE_STUDY_DETAIL:'/case-studies/:slug'};// Language-aware routing utilities\nexport const useLanguageRouting=()=>{const location=useLocation();const navigate=useNavigate();useTranslation();// Initialize i18n context\n// Get current language from URL\nconst getCurrentLanguage=()=>{return location.pathname.startsWith('/de')?'de':'en';};// Check if current route is German\nconst isGerman=()=>{return getCurrentLanguage()==='de';};// Get localized path\nconst getLocalizedPath=(path,language)=>{const targetLanguage=language||getCurrentLanguage();const cleanPath=path.startsWith('/')?path.substring(1):path;if(targetLanguage==='de'){return\"/de/\".concat(cleanPath);}return\"/\".concat(cleanPath);};// Navigate to localized path\nconst navigateToLocalized=(path,language)=>{const localizedPath=getLocalizedPath(path,language);navigate(localizedPath);};// Get path without language prefix\nconst getPathWithoutLanguage=()=>{const pathname=location.pathname;if(pathname.startsWith('/de')){const withoutPrefix=pathname.substring(3);return withoutPrefix===''?'/':withoutPrefix;}return pathname;};// Switch language while keeping current path\nconst switchLanguage=newLanguage=>{// Save language preference in localStorage and cookie\nlocalStorage.setItem('userLanguagePreference',newLanguage);document.cookie=\"language=\".concat(newLanguage,\"; path=/; max-age=31536000\");// 1 year\nconst currentPath=getPathWithoutLanguage();// If switching from non-home pages, redirect to home page to avoid broken navigation\n// This prevents issues when switching language from blog/case-studies pages\nconst isHomePage=currentPath==='/'||currentPath==='';if(isHomePage){// If on home page, keep the current path\nconst newPath=getLocalizedPath(currentPath,newLanguage);navigate(newPath);}else{// If on other pages, redirect to home page in the new language\n// This ensures hash navigation works properly\nconst homePath=newLanguage==='de'?'/de':'/';window.location.href=homePath;}};// Get localized route for a specific route key\nconst getLocalizedRoute=(routeKey,language)=>{const route=ROUTES[routeKey];return getLocalizedPath(route,language);};return{getCurrentLanguage,isGerman,getLocalizedPath,navigateToLocalized,getPathWithoutLanguage,switchLanguage,getLocalizedRoute,currentLanguage:getCurrentLanguage()};};// Hook for language-aware navigation\nexport const useLocalizedNavigation=()=>{const{navigateToLocalized,getLocalizedRoute,switchLanguage}=useLanguageRouting();return{navigateTo:navigateToLocalized,getRoute:getLocalizedRoute,switchLanguage};};// Component wrapper for language-aware routing\nexport const withLanguageRouting=Component=>{const WrappedComponent=props=>{const{i18n}=useTranslation();const{getCurrentLanguage}=useLanguageRouting();// Set language based on URL\nReact.useEffect(()=>{const currentLanguage=getCurrentLanguage();if(i18n.language!==currentLanguage){i18n.changeLanguage(currentLanguage);}},[getCurrentLanguage,i18n]);return/*#__PURE__*/React.createElement(Component,props);};return WrappedComponent;};","map":{"version":3,"names":["React","useLocation","useNavigate","useTranslation","ROUTES","HOME","PRIVACY","TERMS","COOKIES","REFUND","SECURITY","STARTER_FORM","GROWTH_FORM","SCALE_FORM","IMPRINT","BLOG","BLOG_POST","CASE_STUDIES","CASE_STUDY_DETAIL","useLanguageRouting","location","navigate","getCurrentLanguage","pathname","startsWith","isGerman","getLocalizedPath","path","language","targetLanguage","cleanPath","substring","concat","navigateToLocalized","localizedPath","getPathWithoutLanguage","withoutPrefix","switchLanguage","newLanguage","localStorage","setItem","document","cookie","currentPath","isHomePage","newPath","homePath","window","href","getLocalizedRoute","routeKey","route","currentLanguage","useLocalizedNavigation","navigateTo","getRoute","withLanguageRouting","Component","WrappedComponent","props","i18n","useEffect","changeLanguage","createElement"],"sources":["/Users/biltontaheri/Documents/Development/Fynteq/src/utils/routing.ts"],"sourcesContent":["import React from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\n// Route definitions\nexport const ROUTES = {\n  HOME: '/',\n  PRIVACY: '/privacy',\n  TERMS: '/terms',\n  COOKIES: '/cookies',\n  REFUND: '/refund',\n  SECURITY: '/security',\n  STARTER_FORM: '/starter-form',\n  GROWTH_FORM: '/growth-form',\n  SCALE_FORM: '/scale-form',\n  IMPRINT: '/imprint',\n  BLOG: '/blog',\n  BLOG_POST: '/blog/:slug',\n  CASE_STUDIES: '/case-studies',\n  CASE_STUDY_DETAIL: '/case-studies/:slug',\n} as const;\n\n// Language-aware routing utilities\nexport const useLanguageRouting = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  useTranslation(); // Initialize i18n context\n\n  // Get current language from URL\n  const getCurrentLanguage = (): string => {\n    return location.pathname.startsWith('/de') ? 'de' : 'en';\n  };\n\n  // Check if current route is German\n  const isGerman = (): boolean => {\n    return getCurrentLanguage() === 'de';\n  };\n\n  // Get localized path\n  const getLocalizedPath = (path: string, language?: string): string => {\n    const targetLanguage = language || getCurrentLanguage();\n    const cleanPath = path.startsWith('/') ? path.substring(1) : path;\n    \n    if (targetLanguage === 'de') {\n      return `/de/${cleanPath}`;\n    }\n    \n    return `/${cleanPath}`;\n  };\n\n  // Navigate to localized path\n  const navigateToLocalized = (path: string, language?: string) => {\n    const localizedPath = getLocalizedPath(path, language);\n    navigate(localizedPath);\n  };\n\n  // Get path without language prefix\n  const getPathWithoutLanguage = (): string => {\n    const pathname = location.pathname;\n    if (pathname.startsWith('/de')) {\n      const withoutPrefix = pathname.substring(3);\n      return withoutPrefix === '' ? '/' : withoutPrefix;\n    }\n    return pathname;\n  };\n\n  // Switch language while keeping current path\n  const switchLanguage = (newLanguage: string) => {\n    // Save language preference in localStorage and cookie\n    localStorage.setItem('userLanguagePreference', newLanguage);\n    document.cookie = `language=${newLanguage}; path=/; max-age=31536000`; // 1 year\n    \n    const currentPath = getPathWithoutLanguage();\n    \n    // If switching from non-home pages, redirect to home page to avoid broken navigation\n    // This prevents issues when switching language from blog/case-studies pages\n    const isHomePage = currentPath === '/' || currentPath === '';\n    \n    if (isHomePage) {\n      // If on home page, keep the current path\n      const newPath = getLocalizedPath(currentPath, newLanguage);\n      navigate(newPath);\n    } else {\n      // If on other pages, redirect to home page in the new language\n      // This ensures hash navigation works properly\n      const homePath = newLanguage === 'de' ? '/de' : '/';\n      window.location.href = homePath;\n    }\n  };\n\n  // Get localized route for a specific route key\n  const getLocalizedRoute = (routeKey: keyof typeof ROUTES, language?: string): string => {\n    const route = ROUTES[routeKey];\n    return getLocalizedPath(route, language);\n  };\n\n  return {\n    getCurrentLanguage,\n    isGerman,\n    getLocalizedPath,\n    navigateToLocalized,\n    getPathWithoutLanguage,\n    switchLanguage,\n    getLocalizedRoute,\n    currentLanguage: getCurrentLanguage(),\n  };\n};\n\n// Hook for language-aware navigation\nexport const useLocalizedNavigation = () => {\n  const { navigateToLocalized, getLocalizedRoute, switchLanguage } = useLanguageRouting();\n\n  return {\n    navigateTo: navigateToLocalized,\n    getRoute: getLocalizedRoute,\n    switchLanguage,\n  };\n};\n\n// Component wrapper for language-aware routing\nexport const withLanguageRouting = <P extends object>(\n  Component: React.ComponentType<P>\n): React.ComponentType<P> => {\n  const WrappedComponent: React.FC<P> = (props: P) => {\n    const { i18n } = useTranslation();\n    const { getCurrentLanguage } = useLanguageRouting();\n\n    // Set language based on URL\n    React.useEffect(() => {\n      const currentLanguage = getCurrentLanguage();\n      if (i18n.language !== currentLanguage) {\n        i18n.changeLanguage(currentLanguage);\n      }\n    }, [getCurrentLanguage, i18n]);\n\n    return React.createElement(Component, props);\n  };\n  \n  return WrappedComponent;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}